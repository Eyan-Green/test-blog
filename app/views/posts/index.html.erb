<div class="h-full">
  <% flash.each do |type, msg| %>
    <div>
      <%= msg %>
    </div>
  <% end %>
  <h1 class="p-5">All posts</h1>
  <% @posts.each do |post| %>
    <div class="border-2 border-black rounded-md p-5 space-y-5 mx-5 my-5 index-post">
      <h2 class="m-0"><%= post.title %></h2>
      <p class="m-0"><%= truncate(post.content.to_plain_text, length: 300) %></p>
      <ul class="flex flex-row justify-center list-none space-x-5">
        <li><%= link_to 'View Post', post_path(post), class: 'hover:underline' %></li>
        <li><%= link_to 'Edit Post', edit_post_path(post), class: 'hover:underline' if policy(post).update? %></li>
      </ul>
    </div>
  <% end %>
</div>
<% if @pagy.count > @pagy.items %>
  <div class="my-10">
    <%== pagy_nav(@pagy) %>
  </div>
<% end %>